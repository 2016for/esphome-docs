
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="description" content="Instructions for setting up BLE binary sensors for the ESP32.">
<meta itemprop="name" content="ESP32 Bluetooth Low Energy Device">
<meta itemprop="description" content="Instructions for setting up BLE binary sensors for the ESP32.">
<meta itemprop="image" content="https://esphomelib.com/_images/bluetooth.png">
<meta name="twitter:title" content="ESP32 Bluetooth Low Energy Device">
<meta name="twitter:image:src" content="https://esphomelib.com/_images/bluetooth.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Instructions for setting up BLE binary sensors for the ESP32.">
<meta property="og:title" content="ESP32 Bluetooth Low Energy Device"/>
<meta property="og:image" content="https://esphomelib.com/_images/bluetooth.png"/>
<meta property="og:type" content="website"/>
<meta property="og:site_name" content="esphomelib"/>
<meta property="og:description" content="Instructions for setting up BLE binary sensors for the ESP32."/>
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="theme-color" content="#DFDFDF">

    <title>ESP32 Bluetooth Low Energy Device &#8212; esphomelib 1.9.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/disqus.js"></script>
    <link rel="canonical" href="https://esphomelib.com/esphomeyaml/components/binary_sensor/esp32_ble_tracker.html" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ESP32 Touch Pad Binary Sensor" href="esp32_touch.html" />
    <link rel="prev" title="Binary Sensor Component" href="index.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
    <link rel="apple-touch-icon" href="../../../_static/apple-touch-icon.png" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/logo-full.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ESP32 Bluetooth Low Energy Device</a><ul>
<li><a class="reference internal" href="#configuration-variables">Configuration variables:</a></li>
<li><a class="reference internal" href="#setting-up-devices">Setting Up Devices</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="esp32-bluetooth-low-energy-device">
<h1>ESP32 Bluetooth Low Energy Device<a class="headerlink" href="#esp32-bluetooth-low-energy-device" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">esp32_ble_tracker</span></code> binary sensor platform lets you track the presence of a
bluetooth low energy device.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../../_images/esp32_ble-ui.png"><img alt="../../../_images/esp32_ble-ui.png" src="../../../_images/esp32_ble-ui.png" style="width: 80.0%;" /></a>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span class="c1"># Example configuration entry</span>
<span class="l l-Scalar l-Scalar-Plain">esp32_ble_tracker</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">scan_interval</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">300s</span>

<span class="l l-Scalar l-Scalar-Plain">binary_sensor</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">platform</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">esp32_ble_tracker</span>
    <span class="l l-Scalar l-Scalar-Plain">mac_address</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">AC:37:43:77:5F:4C</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;ESP32</span><span class="nv"> </span><span class="s">BLE</span><span class="nv"> </span><span class="s">Tracker</span><span class="nv"> </span><span class="s">Google</span><span class="nv"> </span><span class="s">Home</span><span class="nv"> </span><span class="s">Mini&quot;</span>
</pre></div>
</div>
<div class="section" id="configuration-variables">
<h2>Configuration variables:<a class="headerlink" href="#configuration-variables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>mac_address</strong> (<strong>Required</strong>, MAC Address): The MAC address to track for this
binary sensor.</li>
<li><strong>name</strong> (<strong>Required</strong>, string): The name of the binary sensor.</li>
<li><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Manually specify
the ID used for code generation.</li>
<li>All other options from <a class="reference internal" href="index.html#config-binary-sensor"><span class="std std-ref">Binary Sensor</span></a>
and <a class="reference internal" href="../mqtt.html#config-mqtt-component"><span class="std std-ref">MQTT Component</span></a>.</li>
</ul>
</div>
<div class="section" id="setting-up-devices">
<span id="esp32-ble-tracker-setting-up-devices"></span><h2>Setting Up Devices<a class="headerlink" href="#setting-up-devices" title="Permalink to this headline">¶</a></h2>
<p>To set up binary sensors for specific BLE beacons you first have to know which MAC address
to track. Most devices show this screen in some setting menu. If you don’t know the MAC address,
however, you can use the <code class="docutils literal notranslate"><span class="pre">esp32_ble_tracker</span></code> hub without any binary sensors attached and read through
the logs to see discovered Bluetooth Low Energy devices.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span class="c1"># Example configuration entry for finding MAC addresses</span>
<span class="l l-Scalar l-Scalar-Plain">esp32_ble_tracker</span><span class="p p-Indicator">:</span>
</pre></div>
</div>
<p>Using above configuration, first you should see a <code class="docutils literal notranslate"><span class="pre">Starting</span> <span class="pre">scan...</span></code> debug message at
boot-up. Then, when a BLE device is discovered, you should see messages like
<code class="docutils literal notranslate"><span class="pre">Found</span> <span class="pre">device</span> <span class="pre">AC:37:43:77:5F:4C</span></code> together with some information about their
address type and advertised name. If you don’t see these messages, your device is unfortunately
currently not supported.</p>
<p>Please note that devices that show a <code class="docutils literal notranslate"><span class="pre">RANDOM</span></code> address type in the logs cannot be used for
tracking, since their MAC-address periodically changes.</p>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../esp32_ble_tracker.html"><span class="doc">ESP32 Bluetooth Low Energy Tracker Hub</span></a></li>
<li><a class="reference internal" href="index.html"><span class="doc">Binary Sensor Component</span></a></li>
<li><a class="reference internal" href="../../../api/misc/esp32_ble_tracker.html"><span class="doc">API Reference</span></a></li>
<li><a class="reference external" href="https://github.com/nkolban/ESP32_BLE_Arduino">ESP32 BLE for Arduino</a> by <a class="reference external" href="https://github.com/nkolban">Neil Kolban</a>.</li>
<li><a class="reference external" href="https://github.com/OttoWinter/esphomedocs/blob/current/esphomeyaml/components/binary_sensor/esp32_ble_tracker.rst">Edit this page on GitHub</a></li>
</ul>
<div data-disqus-identifier="esphomeyaml-components-binary_sensor-esp32_ble_tracker" id="disqus_thread"></div></div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      
      
      
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>