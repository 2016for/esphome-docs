
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="description" content="Instructions for setting up the central logging component in esphomelib.">
<meta itemprop="name" content="Logger Component">
<meta itemprop="description" content="Instructions for setting up the central logging component in esphomelib.">
<meta itemprop="image" content="https://esphomelib.com/_images/file-document-box.png">
<meta name="twitter:title" content="Logger Component">
<meta name="twitter:image:src" content="https://esphomelib.com/_images/file-document-box.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Instructions for setting up the central logging component in esphomelib.">
<meta property="og:title" content="Logger Component"/>
<meta property="og:image" content="https://esphomelib.com/_images/file-document-box.png"/>
<meta property="og:type" content="website"/>
<meta property="og:site_name" content="esphomelib"/>
<meta property="og:description" content="Instructions for setting up the central logging component in esphomelib."/>
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="theme-color" content="#DFDFDF">

    <title>Logger Component &#8212; ESPHome 1.9.3 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/disqus.js"></script>
    <link rel="canonical" href="https://esphomelib.com/esphomeyaml/components/logger.html" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="MQTT Client Component" href="mqtt.html" />
    <link rel="prev" title="I²C Bus" href="i2c.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
    <link rel="apple-touch-icon" href="../../_static/apple-touch-icon.png" />
  
  
    <link rel="canonical" href="https://esphomelib.com/esphomeyaml/components/logger.html"/>
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo-full.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Logger Component</a><ul>
<li><a class="reference internal" href="#configuration-variables">Configuration variables:</a></li>
<li><a class="reference internal" href="#log-levels">Log Levels</a></li>
<li><a class="reference internal" href="#manual-tag-specific-log-levels">Manual Tag-Specific Log Levels</a></li>
<li><a class="reference internal" href="#logger-log-action"><code class="docutils literal notranslate"><span class="pre">logger.log</span></code> Action</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="logger-component">
<h1>Logger Component<a class="headerlink" href="#logger-component" title="Permalink to this headline">¶</a></h1>
<p>The logger component automatically logs all log messages through the
serial port and through MQTT topics. By default, all logs with a
severity higher than <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> will be shown. Decreasing the log level
can help with the performance of the application and memory size.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span class="c1"># Example configuration entry</span>
<span class="l l-Scalar l-Scalar-Plain">logger</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">level</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">DEBUG</span>
</pre></div>
</div>
<div class="section" id="configuration-variables">
<h2>Configuration variables:<a class="headerlink" href="#configuration-variables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>baud_rate</strong> (<em>Optional</em>, int): The baud rate to use for the serial
UART port. Defaults to <code class="docutils literal notranslate"><span class="pre">115200</span></code>. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to disable logging via UART.</li>
<li><strong>tx_buffer_size</strong> (<em>Optional</em>, string): The size of the buffer used
for log messages. Decrease this if you’re having memory problems.
Defaults to 512.</li>
<li><strong>level</strong> (<em>Optional</em>, string): The global log level. Any log message
with a lower severity will not be shown. Defaults to DEBUG.</li>
<li><strong>logs</strong> (<em>Optional</em>, mapping): Manually set the log level for a
specific component or tag. See <a class="reference internal" href="#logger-manual-tag-specific-levels"><span class="std std-ref">Manual Log Levels for more
information</span></a>.</li>
<li><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Manually specify the ID used for code generation.</li>
</ul>
</div>
<div class="section" id="log-levels">
<span id="logger-log-levels"></span><h2>Log Levels<a class="headerlink" href="#log-levels" title="Permalink to this headline">¶</a></h2>
<p>Possible log levels are (sorted by severity):</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">NONE</span></code></li>
</ul>
<blockquote>
<div><ul class="simple">
<li>No messages are logged.</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">ERROR</span></code></li>
</ul>
<blockquote>
<div><ul class="simple">
<li>With this log level, only errors are logged. Errors are issues that prevent the ESP from working
correctly. Color: red</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">WARN</span></code></li>
</ul>
<blockquote>
<div><ul class="simple">
<li>With this log level, warnings and errors are logged. Warnings are issues like invalid readings from
sensors that esphomelib can recover from. Color: yellow</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">INFO</span></code></li>
</ul>
<blockquote>
<div><ul class="simple">
<li>With this log level, everything up to info messages are logged; so errors, warnings and info. Color: green</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> (<strong>Default</strong>)</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Everything up to this log level is logged. Debug messages include the current readings from a sensor
and status messages. Color: cyan</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code></li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Like debug, but a few more messages that are usually deemed to be spam are also included. Color: grey</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">VERY_VERBOSE</span></code></li>
</ul>
<blockquote>
<div><ul class="simple">
<li>All internal messages are logged. Including all the data flowing through data buses like
i2c, spi or uart. Color: white</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="manual-tag-specific-log-levels">
<span id="logger-manual-tag-specific-levels"></span><h2>Manual Tag-Specific Log Levels<a class="headerlink" href="#manual-tag-specific-log-levels" title="Permalink to this headline">¶</a></h2>
<p>If some component is spamming the logs and you want to manually set the
log level for it, first identify the tag of the log messages in question
and then disable them in your configuration.</p>
<p>Suppose we want to have verbose log messages globally, but the MQTT
client spams too much. In the following example, we’d first see that the
tag of the MQTT client is <code class="docutils literal notranslate"><span class="pre">mqtt.client</span></code> (before the first colon) and
the tag for MQTT components is <code class="docutils literal notranslate"><span class="pre">mqtt.component</span></code>.</p>
<div class="figure">
<img alt="../../_images/logger-manual_log_level.png" src="../../_images/logger-manual_log_level.png" />
</div>
<p>Next, we can manually set the log levels in the configuration like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">logger</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">level</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">VERBOSE</span>
  <span class="l l-Scalar l-Scalar-Plain">logs</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">mqtt.component</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">DEBUG</span>
    <span class="l l-Scalar l-Scalar-Plain">mqtt.client</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ERROR</span>
</pre></div>
</div>
<p>Please note that the global log level determines what log messages are
saved in the binary. So for example a <code class="docutils literal notranslate"><span class="pre">INFO</span></code> global log message will
purge all <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> log statements from the binary in order to conserve
space. This however means that you cannot set tag-specific log levels
that have a lower severity than the global log level.</p>
</div>
<div class="section" id="logger-log-action">
<span id="id1"></span><h2><code class="docutils literal notranslate"><span class="pre">logger.log</span></code> Action<a class="headerlink" href="#logger-log-action" title="Permalink to this headline">¶</a></h2>
<p>Print a formatted message to the logs.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">format</span></code> option, you can use <code class="docutils literal notranslate"><span class="pre">printf</span></code>-style formatting (see <a class="reference internal" href="display/index.html#display-printf"><span class="std std-ref">Formatted Text</span></a>).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">on_...</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">then</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">logger.log</span><span class="p p-Indicator">:</span> <span class="s">&quot;Hello</span><span class="nv"> </span><span class="s">World&quot;</span>

    <span class="c1"># Formatted:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">logger.log</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">format</span><span class="p p-Indicator">:</span> <span class="s">&quot;The</span><span class="nv"> </span><span class="s">temperature</span><span class="nv"> </span><span class="s">sensor</span><span class="nv"> </span><span class="s">reports</span><span class="nv"> </span><span class="s">value</span><span class="nv"> </span><span class="s">%.1f</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">humidity</span><span class="nv"> </span><span class="s">%.1f&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">args</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span> <span class="s">&#39;id(temperature_sensor).value&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;id(humidity_sensor).value&#39;</span> <span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>Configuration options:</p>
<ul class="simple">
<li><strong>format</strong> (<strong>Required</strong>, string): The format for the message in <a class="reference internal" href="display/index.html#display-printf"><span class="std std-ref">printf-style</span></a>.</li>
<li><strong>args</strong> (<em>Optional</em>, list of <a class="reference internal" href="../guides/automations.html#config-lambda"><span class="std std-ref">lambda</span></a>): The optional arguments for the
format message.</li>
<li><strong>level</strong> (<em>Optional</em>, string): The <a class="reference internal" href="#logger-log-levels"><span class="std std-ref">log level</span></a> to print the message
with. Defaults to <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>.</li>
<li><strong>tag</strong> (<em>Optional</em>, string): The tag (seen in front of the message in the logs) to print the message
with. Defaults to <code class="docutils literal notranslate"><span class="pre">main</span></code>.</li>
</ul>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../../api/core/log.html"><span class="doc">API Reference</span></a></li>
<li><a class="reference external" href="https://github.com/OttoWinter/esphomedocs/blob/current/esphomeyaml/components/logger.rst">Edit this page on GitHub</a></li>
</ul>
<div data-disqus-identifier="esphomeyaml-components-logger" id="disqus_thread"></div></div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
  <div class="footer">
    <a href="/misc/privacy.html">Privacy Policy</a>
  </div>
  <div id="upgrade-footer">
    A new version has been release since you last visited this page: 1.9.3 🎉
    <a id="upgrade-footer-changelog" href="/esphomeyaml/changelog/index.html">View Changelog</a>
  </div>

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-113203480-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-113203480-2', {'anonymize_ip': true});
  </script>

  <script>
    var old = window.localStorage.getItem("release");
    if (old === null) {
      window.localStorage.setItem("release", "1.9.3");
    } else if (old !== "1.9.3") {
      document.getElementById("upgrade-footer").classList.add("not-hidden");
      document.getElementById("upgrade-footer-changelog").addEventListener('click', function () {
        window.localStorage.setItem("release", "1.9.3");
      });
    }
  </script>

  </body>
</html>