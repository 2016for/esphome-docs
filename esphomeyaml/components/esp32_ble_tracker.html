
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ESP32 Bluetooth Low Energy Tracker Hub &#8212; esphomelib 1.8.2 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/disqus.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ESP32 Touch Pad Hub" href="esp32_touch.html" />
    <link rel="prev" title="Deep Sleep Component" href="deep_sleep.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
    <link rel="apple-touch-icon" href="../../_static/apple-touch-icon.png" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo-full.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ESP32 Bluetooth Low Energy Tracker Hub</a><ul>
<li><a class="reference internal" href="#configuration-variables">Configuration variables:</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="esp32-bluetooth-low-energy-tracker-hub">
<h1>ESP32 Bluetooth Low Energy Tracker Hub<a class="headerlink" href="#esp32-bluetooth-low-energy-tracker-hub" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">esp32_ble_tracker</span></code> component creates a global hub so that you can track bluetooth low
energy devices using your ESP32 node.</p>
<p>See <a class="reference internal" href="binary_sensor/esp32_ble_tracker.html#esp32-ble-tracker-setting-up-devices"><span class="std std-ref">Setting up devices</span></a>
for information on how you can find out the MAC address of a device and track it using esphomelib.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="c1"># Example configuration entry</span>
<span class="n">esp32_ble_tracker</span><span class="p">:</span>
  <span class="n">scan_interval</span><span class="p">:</span> <span class="mi">300</span><span class="n">s</span>

<span class="n">binary_sensor</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">esp32_ble_tracker</span>
    <span class="n">mac_address</span><span class="p">:</span> <span class="n">AC</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">77</span><span class="p">:</span><span class="mi">5</span><span class="n">F</span><span class="p">:</span><span class="mi">4</span><span class="n">C</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;ESP32 BLE Tracker Google Home Mini&quot;</span>

<span class="n">sensor</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">ble_rssi</span>
    <span class="n">mac_address</span><span class="p">:</span> <span class="n">AC</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">77</span><span class="p">:</span><span class="mi">5</span><span class="n">F</span><span class="p">:</span><span class="mi">4</span><span class="n">C</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;BLE Google Home Mini RSSI value&quot;</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">xiaomi_miflora</span>
    <span class="n">mac_address</span><span class="p">:</span> <span class="mi">94</span><span class="p">:</span><span class="mi">2</span><span class="n">B</span><span class="p">:</span><span class="n">FF</span><span class="p">:</span><span class="mi">5</span><span class="n">C</span><span class="p">:</span><span class="mi">91</span><span class="p">:</span><span class="mi">61</span>
    <span class="n">temperature</span><span class="p">:</span>
      <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;Xiaomi MiFlora Temperature&quot;</span>
    <span class="n">moisture</span><span class="p">:</span>
      <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;Xiaomi MiFlora Moisture&quot;</span>
    <span class="n">illuminance</span><span class="p">:</span>
      <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;Xiaomi MiFlora Illuminance&quot;</span>
    <span class="n">conductivity</span><span class="p">:</span>
      <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;Xiaomi MiFlora Soil Conductivity&quot;</span>
    <span class="n">battery_level</span><span class="p">:</span>
      <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;Xiaomi MiFlora Battery Level&quot;</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">xiaomi_mijia</span>
    <span class="n">mac_address</span><span class="p">:</span> <span class="mi">7</span><span class="n">A</span><span class="p">:</span><span class="mi">80</span><span class="p">:</span><span class="mi">8</span><span class="n">E</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="n">BA</span>
    <span class="n">temperature</span><span class="p">:</span>
      <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;Xiaomi MiJia Temperature&quot;</span>
    <span class="n">humidity</span><span class="p">:</span>
      <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;Xiaomi MiJia Humidity&quot;</span>
    <span class="n">battery_level</span><span class="p">:</span>
      <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;Xiaomi MiJia Battery Level&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The latest arduino ESP32 framework has a bug with the bluetooth module. Please set
<a class="reference internal" href="esphomeyaml.html#esphomeyaml-arduino-version"><span class="std std-ref">arduino_version</span></a> to <code class="docutils literal notranslate"><span class="pre">espressif32&#64;1.0.2</span></code> like so:</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">esphomeyaml</span><span class="p">:</span>
  <span class="c1"># ...</span>
  <span class="n">arduino_version</span><span class="p">:</span> <span class="n">espressif32</span><span class="nd">@1</span><span class="o">.</span><span class="mf">0.2</span>
</pre></div>
</div>
<p class="last">See <a class="reference external" href="https://github.com/OttoWinter/esphomeyaml/issues/78#issuecomment-425746566">https://github.com/OttoWinter/esphomeyaml/issues/78#issuecomment-425746566</a></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The first time this component is enabled for an ESP32, the code partition needs to be
resized. Please flash the ESP32 via USB when adding this to your configuration. After that,
you can use OTA updates again.</p>
</div>
<div class="section" id="configuration-variables">
<h2>Configuration variables:<a class="headerlink" href="#configuration-variables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>scan_interval</strong> (<em>Optional</em>, <a class="reference internal" href="../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The length of each scan.
If a device is not found within this time window, it will be marked as not present. Defaults to 300s.</li>
<li><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Manually specify the ID for this ESP32 BLE Hub.</li>
</ul>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="binary_sensor/esp32_ble_tracker.html"><span class="doc">ESP32 Bluetooth Low Energy Device</span></a></li>
<li><a class="reference internal" href="../../api/misc/esp32_ble_tracker.html"><span class="doc">API Reference</span></a></li>
<li><a class="reference external" href="https://github.com/nkolban/ESP32_BLE_Arduino">ESP32 BLE for Arduino</a> by <a class="reference external" href="https://github.com/nkolban">Neil Kolban</a>.</li>
<li><a class="reference external" href="https://github.com/OttoWinter/esphomedocs/blob/current/esphomeyaml/components/esp32_ble_tracker.rst">Edit this page on GitHub</a></li>
</ul>
<div data-disqus-identifier="esphomeyaml-components-esp32_ble_tracker" id="disqus_thread"></div></div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2018, Otto Winter.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
    </div>

    

    
  </body>
</html>