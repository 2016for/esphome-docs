
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Time &#8212; esphomelib 1.8.1 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="UART Bus" href="uart.html" />
    <link rel="prev" title="SPI Bus" href="spi.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
    <link rel="apple-touch-icon" href="../../_static/apple-touch-icon.png" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo-full.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Time</a><ul>
<li><a class="reference internal" href="#configuration-variables">Configuration variables:</a></li>
<li><a class="reference internal" href="#use-in-lambdas">Use In Lambdas</a><ul>
<li><a class="reference internal" href="#strftime">strftime</a></li>
</ul>
</li>
<li><a class="reference internal" href="#on-time"><code class="docutils literal notranslate"><span class="pre">on_time</span></code></a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="time">
<span id="id1"></span><h1>Time<a class="headerlink" href="#time" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">time</span></code> component allows you to set up real time clock time sources for esphomelib.
You can then get the current time in <a class="reference internal" href="../guides/automations.html#config-lambda"><span class="std std-ref">lambdas</span></a>.
Currently only sntp (internet-based) time is supported.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example configuration entry</span>
<span class="n">time</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">sntp</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">sntp_time</span>
    <span class="n">servers</span><span class="p">:</span>
      <span class="o">-</span> <span class="mf">0.</span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span>
      <span class="o">-</span> <span class="mf">1.</span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span>
      <span class="o">-</span> <span class="mf">2.</span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span>
</pre></div>
</div>
<div class="section" id="configuration-variables">
<h2>Configuration variables:<a class="headerlink" href="#configuration-variables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>id</strong> (<strong>Required</strong>, <a class="reference internal" href="../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Specify the ID of the time for use in lambdas.</li>
<li><strong>servers</strong> (<em>Optional</em>, list of strings): Choose up to 3 NTP servers that are used for the clock source.
Defaults to <code class="docutils literal notranslate"><span class="pre">0.pool.ntp.org</span></code>, <code class="docutils literal notranslate"><span class="pre">1.pool.ntp.org</span></code> and <code class="docutils literal notranslate"><span class="pre">2.pool.ntp.org</span></code></li>
<li><strong>timezone</strong> (<em>Optional</em>, string): Manually tell esphomelib what timezone to use with <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/TZ-Variable.html">this format</a> (warning: the format is quite complicated).
esphomeyaml tries to automatically infer the timezone string based on the timezone of the computer that is running
esphomeyaml, but this might not always be accurate.</li>
<li><strong>on_time</strong> (<em>Optional</em>, <a class="reference internal" href="../guides/automations.html#automation"><span class="std std-ref">Automation</span></a>): Automation to run at specific intervals using
a cron-like syntax. See <a class="reference internal" href="#time-on-time"><span class="std std-ref">on_time</span></a>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To use the automatic timezone detection you will need to have the python <code class="docutils literal notranslate"><span class="pre">tzlocal</span></code> package installed.
If you’re running this as a HassIO add-on or with the official esphomeyaml docker image, it should already
be installed. Otherwise you need to install it using <code class="docutils literal notranslate"><span class="pre">pip2</span> <span class="pre">install</span> <span class="pre">tzlocal</span></code>.</p>
</div>
</div>
<div class="section" id="use-in-lambdas">
<h2>Use In Lambdas<a class="headerlink" href="#use-in-lambdas" title="Permalink to this headline">¶</a></h2>
<p>To get the current local time with the timezone applied
in <a class="reference internal" href="../guides/automations.html#config-lambda"><span class="std std-ref">lambdas</span></a>, just call the <code class="docutils literal notranslate"><span class="pre">.now()</span></code> method like so:</p>
<div class="code cpp highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">auto</span> <span class="n">time</span> <span class="o">=</span> <span class="nb">id</span><span class="p">(</span><span class="n">sntp_time</span><span class="p">)</span><span class="o">.</span><span class="n">now</span><span class="p">();</span>
</pre></div>
</div>
<p>Alternatively, you can use <code class="docutils literal notranslate"><span class="pre">.utcnow()</span></code> to get the current UTC time.</p>
<p>The returned object can either be used directly to get the current minute, hour, … as numbers or a string can be
created based on a given format. If you want to get the current time attributes, you have these fields</p>
<table border="1" class="no-center docutils">
<colgroup>
<col width="17%" />
<col width="33%" />
<col width="33%" />
<col width="17%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Name</strong></td>
<td><strong>Meaning</strong></td>
<td><strong>Range (inclusive)</strong></td>
<td><strong>Example</strong></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">.second</span></code></td>
<td>Seconds after the minute</td>
<td>[0-60] (generally [0-59],
extra range is to accommodate leap
seconds.)</td>
<td>42</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">.minute</span></code></td>
<td>Minutes after the hour</td>
<td>[0-59]</td>
<td>31</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">.hour</span></code></td>
<td>Hours since midnight</td>
<td>[0-23]</td>
<td>16</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">.day_of_week</span></code></td>
<td>Day of the week, sunday=1</td>
<td>[1-7]</td>
<td>7 (saturday)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">.day_of_month</span></code></td>
<td>Day of the month</td>
<td>[1-31]</td>
<td>18</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">.day_of_year</span></code></td>
<td>Day of the year</td>
<td>[1-366]</td>
<td>231</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">.month</span></code></td>
<td>Month, january=1</td>
<td>[1-12]</td>
<td>8 (august)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">.year</span></code></td>
<td>Year since 0 A.C.</td>
<td>[1970-∞[</td>
<td>2018</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">.is_dst</span></code></td>
<td>Is daylight savings time</td>
<td>false, true</td>
<td>true</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">.time</span></code></td>
<td>Unix epoch time (seconds since UTC
Midnight January 1, 1970)</td>
<td>[-2147483648 - 2147483647] (negative
values for time past January 19th 2038)</td>
<td>1534606002</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">.is_valid()</span></code></td>
<td>Basic check if the time is valid
(i.e. not January 1st 1970)</td>
<td>false, true</td>
<td>true</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Before the ESP has connected to the internet and can get the current time the date will be January 1st 1970. So
make sure to check if <code class="docutils literal notranslate"><span class="pre">.is_valid()</span></code> evaluates to <code class="docutils literal notranslate"><span class="pre">true</span></code> before triggering any action.</p>
</div>
<div class="section" id="strftime">
<span id="id2"></span><h3>strftime<a class="headerlink" href="#strftime" title="Permalink to this headline">¶</a></h3>
<p>The second way to use the time object is to directly transform it into a string like <code class="docutils literal notranslate"><span class="pre">2018-08-16</span> <span class="pre">16:31</span></code>.
This is directly done using C’s <a class="reference external" href="http://www.cplusplus.com/reference/ctime/strftime/">strftime</a> function which
allows for a lot of flexibility.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># For example, in a display object</span>
<span class="n">it</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="n">font</span><span class="p">),</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="n">time</span><span class="p">)</span><span class="o">.</span><span class="n">now</span><span class="p">());</span>
</pre></div>
</div>
<p>The strftime will parse the format string (here <code class="docutils literal notranslate"><span class="pre">&quot;%Y-%m-%d</span> <span class="pre">%H:%M&quot;</span></code>) and match anything beginning with
a percent sign <code class="docutils literal notranslate"><span class="pre">%</span></code> and a letter corresponding to one of the below formatting options and replace it
with the current time representation of that format option.</p>
<table border="1" class="no-center docutils">
<colgroup>
<col width="13%" />
<col width="62%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Directive</strong></td>
<td><strong>Meaning</strong></td>
<td><strong>Example</strong></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%a</span></code></td>
<td>Abbreviated <strong>weekday</strong> name</td>
<td>Sat</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%A</span></code></td>
<td>Full <strong>weekday</strong> name</td>
<td>Saturday</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%w</span></code></td>
<td><strong>Weekday</strong> as decimal number, where 0 is Sunday and 6
is Saturday</td>
<td>6</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%d</span></code></td>
<td><strong>Day of month</strong> as zero-padded decimal number</td>
<td>01, 02, …, 31</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%b</span></code></td>
<td>Abbreviated <strong>month</strong> name</td>
<td>Aug</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%B</span></code></td>
<td>Full <strong>month</strong> name</td>
<td>August</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%m</span></code></td>
<td><strong>Month</strong> as zero-padded decimal number</td>
<td>01, 02, …, 12</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%y</span></code></td>
<td><strong>Year</strong> without century as a zero-padded decimal number</td>
<td>00, 01, …, 99</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%Y</span></code></td>
<td><strong>Year</strong> with century as a decimal number</td>
<td>2018</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%H</span></code></td>
<td><strong>Hour</strong> (24-hour clock) as a zero-padded decimal number</td>
<td>00, 01, …, 23</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%h</span></code></td>
<td><strong>Hour</strong> (12-hour clock) as a zero-padded decimal number</td>
<td>00, 01, …, 12</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%p</span></code></td>
<td><strong>AM or PM</strong> designation</td>
<td>AM, PM</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%M</span></code></td>
<td><strong>Minute</strong> as a zero-padded decimal number</td>
<td>00, 01, …, 59</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%S</span></code></td>
<td><strong>Second</strong> as a zero-padded decimal number</td>
<td>00, 01, …, 59</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%j</span></code></td>
<td><strong>Day of year</strong> as a zero-padded decimal number</td>
<td>001, 002, …, 366</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%U</span></code></td>
<td><strong>Week number of year</strong> (Sunday as the first day of the week)
as a zero-padded decimal number. All days in a new year
preceding the first Sunday are considered to be in week 0.</td>
<td>00, 01, …, 53</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%W</span></code></td>
<td><strong>Week number of year</strong> (Monday as the first day of the week)
as a zero-padded decimal number. All days in a new year
preceding the first Monday are considered to be in week 0.</td>
<td>00, 01, …, 53</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%c</span></code></td>
<td><strong>Date and time</strong> representation</td>
<td>Sat Aug 18 16:31:42 2018</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%x</span></code></td>
<td><strong>Date</strong> representation</td>
<td>08/18/18</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%X</span></code></td>
<td><strong>Time</strong> representation</td>
<td>16:31:42</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%%</span></code></td>
<td>A literal <code class="docutils literal notranslate"><span class="pre">%</span></code> character</td>
<td>%</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="on-time">
<span id="time-on-time"></span><h2><code class="docutils literal notranslate"><span class="pre">on_time</span></code><a class="headerlink" href="#on-time" title="Permalink to this headline">¶</a></h2>
<p>This powerful automation can be used to run automations at specific intervals at
specific times of day. The syntax is a subset of the <a class="reference external" href="https://crontab.guru/">crontab</a> syntax.</p>
<p>There are two ways to specify time intervals: Either with using the <code class="docutils literal notranslate"><span class="pre">seconds:</span></code>, <code class="docutils literal notranslate"><span class="pre">minutes:</span></code>, …
keys as seen below or using a cron expression like <code class="docutils literal notranslate"><span class="pre">*</span> <span class="pre">/5</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span></code>.</p>
<p>Basically, the automation engine looks at your configured time schedule every second and
evaluates if the automation should run.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">time</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">sntp</span>
    <span class="c1"># ...</span>
    <span class="n">on_time</span><span class="p">:</span>
      <span class="c1"># Every 5 minutes</span>
      <span class="o">-</span> <span class="n">seconds</span><span class="p">:</span> <span class="mi">0</span>
        <span class="n">minutes</span><span class="p">:</span> <span class="o">/</span><span class="mi">5</span>
        <span class="n">then</span><span class="p">:</span>
          <span class="o">-</span> <span class="n">switch</span><span class="o">.</span><span class="n">toggle</span><span class="p">:</span> <span class="n">my_switch</span>

      <span class="c1"># Every morning on weekdays</span>
      <span class="o">-</span> <span class="n">seconds</span><span class="p">:</span> <span class="mi">0</span>
        <span class="n">minutes</span><span class="p">:</span> <span class="mi">30</span>
        <span class="n">hours</span><span class="p">:</span> <span class="mi">7</span>
        <span class="n">days_of_week</span><span class="p">:</span> <span class="n">MON</span><span class="o">-</span><span class="n">FRI</span>
        <span class="n">then</span><span class="p">:</span>
          <span class="o">-</span> <span class="n">light</span><span class="o">.</span><span class="n">turn_on</span><span class="p">:</span> <span class="n">my_light</span>

      <span class="c1"># Cron syntax, trigger every 5 minutes</span>
      <span class="o">-</span> <span class="n">cron</span><span class="p">:</span> <span class="s1">&#39;* /5 * * * *&#39;</span>
        <span class="n">then</span><span class="p">:</span>
          <span class="o">-</span> <span class="n">switch</span><span class="o">.</span><span class="n">toggle</span><span class="p">:</span> <span class="n">my_switch</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><strong>seconds</strong> (<em>Optional</em>, string): Specify for which seconds of the minute the automation will trigger.
Defaults to <code class="docutils literal notranslate"><span class="pre">*</span></code> (all seconds). Range is from 0 to 59.</li>
<li><strong>minutes</strong> (<em>Optional</em>, string): Specify for which minutes of the hour the automation will trigger.
Defaults to <code class="docutils literal notranslate"><span class="pre">*</span></code> (all minutes). Range is from 0 to 59.</li>
<li><strong>hours</strong> (<em>Optional</em>, string): Specify for which hours of the day the automation will trigger.
Defaults to <code class="docutils literal notranslate"><span class="pre">*</span></code> (all hours). Range is from 0 to 23.</li>
<li><strong>days_of_month</strong> (<em>Optional</em>, string): Specify for which days of the month the automation will trigger.
Defaults to <code class="docutils literal notranslate"><span class="pre">*</span></code> (all hours). Range is from 1 to 31.</li>
<li><strong>months</strong> (<em>Optional</em>, string): Specify for which months of the year to trigger.
Defaults to <code class="docutils literal notranslate"><span class="pre">*</span></code> (all months). The month names JAN to DEC are automatically substituted.
Range is from 1 (January) to 12 (December).</li>
<li><strong>days_of_week</strong> (<em>Optional</em>, string): Specify for which days of the week to trigger.
Defaults to <code class="docutils literal notranslate"><span class="pre">*</span></code> (all days). The names SUN to SAT are automatically substituted.
Range is from 1 (Sunday) to 7 (Saturday).</li>
<li><strong>cron</strong> (<em>Optional</em>, string): Alternatively, you can specify a whole cron expression like
<code class="docutils literal notranslate"><span class="pre">*</span> <span class="pre">/5</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span></code>. Please note years and some special characters like <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">#</span></code> are currently not supported.</li>
<li>See <a class="reference internal" href="../guides/automations.html#automation"><span class="std std-ref">Automation</span></a>.</li>
</ul>
<p>In the <code class="docutils literal notranslate"><span class="pre">seconds:</span></code>, <code class="docutils literal notranslate"><span class="pre">minutes:</span></code>, … fields you can use the following operators:</p>
<ul>
<li><div class="code yaml first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">seconds</span><span class="p">:</span> <span class="mi">0</span>
</pre></div>
</div>
<p>An integer like <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">30</span></code> will make the automation only trigger if the current
second is <strong>exactly</strong> 0 or 30, respectively.</p>
</li>
<li><div class="code yaml first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">seconds</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">45</span>
</pre></div>
</div>
<p>You can combine multiple expressions with the <code class="docutils literal notranslate"><span class="pre">,</span></code> operator. This operator makes it so that
if either one of the expressions separated by a comma holds true, the automation will trigger.
For example <code class="docutils literal notranslate"><span class="pre">0,30,45</span></code> will trigger if the current second is either <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">30</span></code> or <code class="docutils literal notranslate"><span class="pre">45</span></code>.</p>
</li>
<li><div class="code yaml first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">days_of_week</span><span class="p">:</span> <span class="mi">2</span><span class="o">-</span><span class="mi">6</span>
<span class="c1"># same as</span>
<span class="n">days_of_week</span><span class="p">:</span> <span class="n">MON</span><span class="o">-</span><span class="n">FRI</span>
<span class="c1"># same as</span>
<span class="n">days_of_week</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span>
<span class="c1"># same as</span>
<span class="n">days_of_week</span><span class="p">:</span> <span class="n">MON</span><span class="p">,</span><span class="n">TUE</span><span class="p">,</span><span class="n">WED</span><span class="p">,</span><span class="n">THU</span><span class="p">,</span><span class="n">FRI</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-</span></code> (hyphen) operator can be used to create a range of values and is shorthand for listing all
values with the <code class="docutils literal notranslate"><span class="pre">,</span></code> operator.</p>
</li>
<li><div class="code yaml first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># every 5 minutes</span>
<span class="n">seconds</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">minutes</span><span class="p">:</span> <span class="o">/</span><span class="mi">5</span>

<span class="c1"># every timestamp where the minute is 5,15,25,...</span>
<span class="n">seconds</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">minutes</span><span class="p">:</span> <span class="mi">5</span><span class="o">/</span><span class="mi">10</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">/</span></code> operator can be used to create a step value. For example <code class="docutils literal notranslate"><span class="pre">/5</span></code> for <code class="docutils literal notranslate"><span class="pre">minutes:</span></code> makes an
automation trigger only when the minute of the hour is 0, or 5, 10, 15, … The value in front of the
<code class="docutils literal notranslate"><span class="pre">/</span></code> specifies the offset with which the step is applied.</p>
</li>
<li><div class="code yaml first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Every minute</span>
<span class="n">seconds</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">minutes</span><span class="p">:</span> <span class="o">*</span>
</pre></div>
</div>
<p>Lastly, the <code class="docutils literal notranslate"><span class="pre">*</span></code> operator matches every number. In the example above, <code class="docutils literal notranslate"><span class="pre">*</span></code> could for example be substituted
with  <code class="docutils literal notranslate"><span class="pre">0-59</span></code>.</p>
</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Please note the following automation would trigger for each second in the minutes 0,5,10,15 and not
once per 5 minutes as the seconds variable is not set:</p>
<div class="code yaml last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">time</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">sntp</span>
    <span class="c1"># ...</span>
    <span class="n">on_time</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">minutes</span><span class="p">:</span> <span class="o">/</span><span class="mi">5</span>
        <span class="n">then</span><span class="p">:</span>
          <span class="o">-</span> <span class="n">switch</span><span class="o">.</span><span class="n">toggle</span><span class="p">:</span> <span class="n">my_switch</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../../api/core/time.html"><span class="doc">API Reference</span></a></li>
<li><a class="reference external" href="https://github.com/OttoWinter/esphomedocs/blob/current/esphomeyaml/components/time.rst">Edit this page on GitHub</a></li>
</ul>
</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2018, Otto Winter.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
    </div>

    

    
  </body>
</html>