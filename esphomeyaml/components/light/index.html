
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Light Component &#8212; esphomelib 1.8.1 documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Binary Light" href="binary.html" />
    <link rel="prev" title="Speed Fan" href="../fan/speed.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
    <link rel="apple-touch-icon" href="../../../_static/apple-touch-icon.png" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/logo-full.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Light Component</a><ul>
<li><a class="reference internal" href="#light-toggle-action"><code class="docutils literal notranslate"><span class="pre">light.toggle</span></code> Action</a></li>
<li><a class="reference internal" href="#light-turn-on-action"><code class="docutils literal notranslate"><span class="pre">light.turn_on</span></code> Action</a></li>
<li><a class="reference internal" href="#light-turn-off-action"><code class="docutils literal notranslate"><span class="pre">light.turn_off</span></code> Action</a></li>
<li><a class="reference internal" href="#light-effects">Light Effects</a><ul>
<li><a class="reference internal" href="#random-effect">Random Effect</a></li>
<li><a class="reference internal" href="#strobe-effect">Strobe Effect</a></li>
<li><a class="reference internal" href="#flicker-effect">Flicker Effect</a></li>
<li><a class="reference internal" href="#lambda-effect">Lambda Effect</a></li>
<li><a class="reference internal" href="#fastled-rainbow-effect">FastLED Rainbow Effect</a></li>
<li><a class="reference internal" href="#fastled-color-wipe-effect">FastLED Color Wipe Effect</a></li>
<li><a class="reference internal" href="#fastled-scan-effect">FastLED Scan Effect</a></li>
<li><a class="reference internal" href="#fastled-twinkle-effect">FastLED Twinkle Effect</a></li>
<li><a class="reference internal" href="#fastled-random-twinkle-effect">FastLED Random Twinkle Effect</a></li>
<li><a class="reference internal" href="#fastled-fireworks-effect">FastLED Fireworks Effect</a></li>
<li><a class="reference internal" href="#fastled-flicker-effect">FastLED Flicker Effect</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="light-component">
<h1>Light Component<a class="headerlink" href="#light-component" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">light</span></code> domain in esphomeyaml lets you create lights that will
automatically be shown in Home Assistant’s frontend and have many
features such as RGB colors, transitions, flashing and effects.</p>
<div class="section" id="light-toggle-action">
<span id="id1"></span><h2><code class="docutils literal notranslate"><span class="pre">light.toggle</span></code> Action<a class="headerlink" href="#light-toggle-action" title="Permalink to this headline">¶</a></h2>
<p>This action toggles a light with the given ID when executed.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">on_</span><span class="o">...</span><span class="p">:</span>
  <span class="n">then</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">light</span><span class="o">.</span><span class="n">toggle</span><span class="p">:</span>
        <span class="nb">id</span><span class="p">:</span> <span class="n">light_1</span>
</pre></div>
</div>
<p>Configuration options:</p>
<ul class="simple">
<li><strong>id</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): The ID of the light.</li>
<li><strong>transition_length</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>, <a class="reference internal" href="../../guides/automations.html#config-templatable"><span class="std std-ref">templatable</span></a>): The length of the transition
if the light supports it.</li>
</ul>
</div>
<div class="section" id="light-turn-on-action">
<span id="id2"></span><h2><code class="docutils literal notranslate"><span class="pre">light.turn_on</span></code> Action<a class="headerlink" href="#light-turn-on-action" title="Permalink to this headline">¶</a></h2>
<p>This action turns a light with the given ID on when executed.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre>on_...:
  then:
    - light.turn_on:
        id: light_1
        brightness: 100%
        red: 100%
        green: 100%
        blue: 1.0

    # Templated
    - light.turn_on:
        id: light_1
        brightness: !lambda &gt;-
          // output value must be in range 0 - 1.0
          return id(some_sensor).value / 100.0;
</pre></div>
</div>
<p>Configuration options:</p>
<ul class="simple">
<li><strong>id</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): The ID of the light.</li>
<li><strong>transition_length</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>, <a class="reference internal" href="../../guides/automations.html#config-templatable"><span class="std std-ref">templatable</span></a>): The length of the transition
if the light supports it.</li>
<li><strong>brightness</strong> (<em>Optional</em>, percentage, <a class="reference internal" href="../../guides/automations.html#config-templatable"><span class="std std-ref">templatable</span></a>): The brightness of the light. Must be in range
<code class="docutils literal notranslate"><span class="pre">0%</span></code> to <code class="docutils literal notranslate"><span class="pre">100%</span></code> or <code class="docutils literal notranslate"><span class="pre">0.0</span></code> to <code class="docutils literal notranslate"><span class="pre">1.0</span></code>. Defaults to not changing brightness.</li>
<li><strong>red</strong> (<em>Optional</em>, percentage, <a class="reference internal" href="../../guides/automations.html#config-templatable"><span class="std std-ref">templatable</span></a>): The red channel of the light. Must be in range
<code class="docutils literal notranslate"><span class="pre">0%</span></code> to <code class="docutils literal notranslate"><span class="pre">100%</span></code> or <code class="docutils literal notranslate"><span class="pre">0.0</span></code> to <code class="docutils literal notranslate"><span class="pre">1.0</span></code>. Defaults to not changing red.</li>
<li><strong>green</strong> (<em>Optional</em>, percentage, <a class="reference internal" href="../../guides/automations.html#config-templatable"><span class="std std-ref">templatable</span></a>): The green channel of the light. Must be in range
<code class="docutils literal notranslate"><span class="pre">0%</span></code> to <code class="docutils literal notranslate"><span class="pre">100%</span></code> or <code class="docutils literal notranslate"><span class="pre">0.0</span></code> to <code class="docutils literal notranslate"><span class="pre">1.0</span></code>. Defaults to not changing green channel.</li>
<li><strong>blue</strong> (<em>Optional</em>, percentage, <a class="reference internal" href="../../guides/automations.html#config-templatable"><span class="std std-ref">templatable</span></a>): The blue channel of the light. Must be in range
<code class="docutils literal notranslate"><span class="pre">0%</span></code> to <code class="docutils literal notranslate"><span class="pre">100%</span></code> or <code class="docutils literal notranslate"><span class="pre">0.0</span></code> to <code class="docutils literal notranslate"><span class="pre">1.0</span></code>. Defaults to not changing blue channel.</li>
<li><strong>white</strong> (<em>Optional</em>, percentage, <a class="reference internal" href="../../guides/automations.html#config-templatable"><span class="std std-ref">templatable</span></a>): The white channel value of RGBW lights. Must be in range
<code class="docutils literal notranslate"><span class="pre">0%</span></code> to <code class="docutils literal notranslate"><span class="pre">100%</span></code> or <code class="docutils literal notranslate"><span class="pre">0.0</span></code> to <code class="docutils literal notranslate"><span class="pre">1.0</span></code>. Defaults to not changing white value.</li>
<li><strong>flash_length</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>, <a class="reference internal" href="../../guides/automations.html#config-templatable"><span class="std std-ref">templatable</span></a>): If set, will flash the given color
for this period of time and then go back to the previous state.</li>
<li><strong>effect</strong> (<em>Optional</em>, string, <a class="reference internal" href="../../guides/automations.html#config-templatable"><span class="std std-ref">templatable</span></a>): If set, will attempt to
start an effect with the given name.</li>
</ul>
</div>
<div class="section" id="light-turn-off-action">
<span id="id3"></span><h2><code class="docutils literal notranslate"><span class="pre">light.turn_off</span></code> Action<a class="headerlink" href="#light-turn-off-action" title="Permalink to this headline">¶</a></h2>
<p>This action turns a light with the given ID off when executed.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">on_</span><span class="o">...</span><span class="p">:</span>
  <span class="n">then</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">light</span><span class="o">.</span><span class="n">turn_off</span><span class="p">:</span>
        <span class="nb">id</span><span class="p">:</span> <span class="n">light_1</span>
</pre></div>
</div>
<p>Configuration options:</p>
<ul class="simple">
<li><strong>id</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): The ID of the light.</li>
<li><strong>transition_length</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>, <a class="reference internal" href="../../guides/automations.html#config-templatable"><span class="std std-ref">templatable</span></a>): The length of the transition
if the light supports it.</li>
</ul>
<p>This action turns a switch with the given ID off when executed.</p>
</div>
<div class="section" id="light-effects">
<span id="id4"></span><h2>Light Effects<a class="headerlink" href="#light-effects" title="Permalink to this headline">¶</a></h2>
<p>esphomelib also offers a bunch of light effects you can use for your lights. The defaults for the
effect parameters are made to work well on their own but of course esphomelib gives you the option to manually change
these parameters.</p>
<p>With esphomelib’s light effects system you’re basically creating a bunch of entries for the effects dropdown in
Home Assistant. If you wish to have several variants of the same effect you can of course also create multiple
entries with each having a unique name like so:</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">light</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="o">...</span>
    <span class="c1"># ...</span>
    <span class="n">effects</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">random</span><span class="p">:</span>
          <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;My Slow Random Effect&quot;</span>
          <span class="n">transition_length</span><span class="p">:</span> <span class="mi">30</span><span class="n">s</span>
          <span class="n">update_interval</span><span class="p">:</span> <span class="mi">30</span><span class="n">s</span>
      <span class="o">-</span> <span class="n">random</span><span class="p">:</span>
          <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;My Fast Random Effect&quot;</span>
          <span class="n">transition_length</span><span class="p">:</span> <span class="mi">4</span><span class="n">s</span>
          <span class="n">update_interval</span><span class="p">:</span> <span class="mi">5</span><span class="n">s</span>
</pre></div>
</div>
<div class="section" id="random-effect">
<h3>Random Effect<a class="headerlink" href="#random-effect" title="Permalink to this headline">¶</a></h3>
<p>This effect makes a transition (of length <code class="docutils literal notranslate"><span class="pre">transition_length</span></code>) to a randomly-chosen color every <code class="docutils literal notranslate"><span class="pre">update_interval</span></code>.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">light</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="o">...</span>
    <span class="c1"># ...</span>
    <span class="n">effects</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">random</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">random</span><span class="p">:</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">Random</span> <span class="n">Effect</span> <span class="n">With</span> <span class="n">Custom</span> <span class="n">Values</span>
          <span class="n">transition_length</span><span class="p">:</span> <span class="mi">5</span><span class="n">s</span>
          <span class="n">update_interval</span><span class="p">:</span> <span class="mi">7</span><span class="n">s</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><strong>name</strong> (<em>Optional</em>, string): The name of the effect. Defaults to <code class="docutils literal notranslate"><span class="pre">Random</span></code>.</li>
<li><strong>transition_length</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The duration of each transition to start. Defaults to <code class="docutils literal notranslate"><span class="pre">5s</span></code>.</li>
<li><strong>update_interval</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The interval with which a new color is selected and transitioned
to.</li>
</ul>
</div>
<div class="section" id="strobe-effect">
<h3>Strobe Effect<a class="headerlink" href="#strobe-effect" title="Permalink to this headline">¶</a></h3>
<p>This effect cycles through a list of colors with specific durations.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">light</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="o">...</span>
    <span class="c1"># ...</span>
    <span class="n">effects</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">strobe</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">strobe</span><span class="p">:</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">Strobe</span> <span class="n">Effect</span> <span class="n">With</span> <span class="n">Custom</span> <span class="n">Values</span>
          <span class="n">colors</span><span class="p">:</span>
            <span class="o">-</span> <span class="n">state</span><span class="p">:</span> <span class="kc">True</span>
              <span class="n">brightness</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span>
              <span class="n">red</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span>
              <span class="n">green</span><span class="p">:</span> <span class="mi">90</span><span class="o">%</span>
              <span class="n">blue</span><span class="p">:</span> <span class="mi">0</span><span class="o">%</span>
              <span class="n">duration</span><span class="p">:</span> <span class="mi">500</span><span class="n">ms</span>
            <span class="o">-</span> <span class="n">state</span><span class="p">:</span> <span class="kc">False</span>
              <span class="n">duration</span><span class="p">:</span> <span class="mi">250</span><span class="n">ms</span>
            <span class="o">-</span> <span class="n">state</span><span class="p">:</span> <span class="kc">True</span>
              <span class="n">brightness</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span>
              <span class="n">red</span><span class="p">:</span> <span class="mi">0</span><span class="o">%</span>
              <span class="n">green</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span>
              <span class="n">blue</span><span class="p">:</span> <span class="mi">0</span><span class="o">%</span>
              <span class="n">duration</span><span class="p">:</span> <span class="mi">500</span><span class="n">ms</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><strong>name</strong> (<em>Optional</em>, string): The name of the effect. Defaults to <code class="docutils literal notranslate"><span class="pre">Strobe</span></code>.</li>
<li><strong>colors</strong> (<em>Optional</em>, list): A list of colors to cycle through. Defaults to a quick cycle between ON and OFF.<ul>
<li><strong>state</strong> (<em>Optional</em>, boolean): The ON/OFF state to show. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</li>
<li><strong>brightness</strong> (<em>Optional</em>, percentage): The brightness of the light. Defaults to <code class="docutils literal notranslate"><span class="pre">100%</span></code>.</li>
<li><strong>red</strong> (<em>Optional</em>, percentage): The percentage that the red color should be on for RGB lights. Defaults to <code class="docutils literal notranslate"><span class="pre">100%</span></code>.</li>
<li><strong>green</strong> (<em>Optional</em>, percentage): The percentage that the green color should be on for RGB lights. Defaults to <code class="docutils literal notranslate"><span class="pre">100%</span></code>.</li>
<li><strong>blue</strong> (<em>Optional</em>, percentage): The percentage that the blue color should be on for RGB lights. Defaults to <code class="docutils literal notranslate"><span class="pre">100%</span></code>.</li>
<li><strong>white</strong> (<em>Optional</em>, percentage): The percentage that the white color should be on for RGBW lights. Defaults to <code class="docutils literal notranslate"><span class="pre">100%</span></code>.</li>
<li><strong>duration</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The duration this color should be active.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="flicker-effect">
<h3>Flicker Effect<a class="headerlink" href="#flicker-effect" title="Permalink to this headline">¶</a></h3>
<p>This effect “hovers” around the active color of the light and flickers each color channel a bit.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">light</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="o">...</span>
    <span class="c1"># ...</span>
    <span class="n">effects</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">flicker</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">flicker</span><span class="p">:</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">Flicker</span> <span class="n">Effect</span> <span class="n">With</span> <span class="n">Custom</span> <span class="n">Values</span>
          <span class="n">alpha</span><span class="p">:</span> <span class="mi">95</span><span class="o">%</span>
          <span class="n">intensity</span><span class="p">:</span> <span class="mf">1.5</span><span class="o">%</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><strong>name</strong> (<em>Optional</em>, string): The name of the effect. Defaults to <code class="docutils literal notranslate"><span class="pre">Flicker</span></code>.</li>
<li><strong>alpha</strong> (<em>Optional</em>, percentage): The percentage that the last color value should affect the light. More
or less the “forget-factor” of an exponential moving average. Defaults to <code class="docutils literal notranslate"><span class="pre">95%</span></code>.</li>
<li><strong>intensity</strong> (<em>Optional</em>, percentage): The intensity of the flickering, basically the maximum amplitude of the
random offsets. Defaults to <code class="docutils literal notranslate"><span class="pre">1.5%</span></code>.</li>
</ul>
</div>
<div class="section" id="lambda-effect">
<h3>Lambda Effect<a class="headerlink" href="#lambda-effect" title="Permalink to this headline">¶</a></h3>
<p>This effect allows you to write completely custom light effects yourself using <a class="reference internal" href="../../guides/automations.html#config-lambda"><span class="std std-ref">lambdas</span></a>.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">light</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="o">...</span>
    <span class="c1"># ...</span>
    <span class="n">effects</span><span class="p">:</span>
      <span class="o">-</span> <span class="k">lambda</span><span class="p">:</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">My</span> <span class="n">Custom</span> <span class="n">Effect</span>
          <span class="n">update_interval</span><span class="p">:</span> <span class="mi">1</span><span class="n">s</span>
          <span class="k">lambda</span><span class="p">:</span> <span class="o">|-</span>
            <span class="n">static</span> <span class="nb">int</span> <span class="n">state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
              <span class="nb">id</span><span class="p">(</span><span class="n">my_light</span><span class="p">)</span><span class="o">.</span><span class="n">start_transition</span><span class="p">(</span><span class="n">light</span><span class="p">::</span><span class="n">LightColorValues</span><span class="p">::</span><span class="n">from_rgb</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)));</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
              <span class="nb">id</span><span class="p">(</span><span class="n">my_light</span><span class="p">)</span><span class="o">.</span><span class="n">start_transition</span><span class="p">(</span><span class="n">light</span><span class="p">::</span><span class="n">LightColorValues</span><span class="p">::</span><span class="n">from_rgb</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)));</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
              <span class="nb">id</span><span class="p">(</span><span class="n">my_light</span><span class="p">)</span><span class="o">.</span><span class="n">start_transition</span><span class="p">(</span><span class="n">light</span><span class="p">::</span><span class="n">LightColorValues</span><span class="p">::</span><span class="n">from_rgb</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)));</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
              <span class="nb">id</span><span class="p">(</span><span class="n">my_light</span><span class="p">)</span><span class="o">.</span><span class="n">start_transition</span><span class="p">(</span><span class="n">light</span><span class="p">::</span><span class="n">LightColorValues</span><span class="p">::</span><span class="n">from_rgb</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)));</span>
            <span class="p">}</span>
            <span class="n">state</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span>
              <span class="n">state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><strong>name</strong> (<strong>Required</strong>, string): The name of the custom effect.</li>
<li><strong>update_interval</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The interval with which the lambda code is executed.
A value of <code class="docutils literal notranslate"><span class="pre">0ms</span></code> means that the lambda is always executed, without a cool-down. Defaults to <code class="docutils literal notranslate"><span class="pre">0ms</span></code>.</li>
<li><strong>lambda</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/automations.html#config-lambda"><span class="std std-ref">lambda</span></a>): The code to execute. <code class="docutils literal notranslate"><span class="pre">static</span></code> variables are
especially useful.</li>
</ul>
</div>
<div class="section" id="fastled-rainbow-effect">
<h3>FastLED Rainbow Effect<a class="headerlink" href="#fastled-rainbow-effect" title="Permalink to this headline">¶</a></h3>
<p>A light effect for individually-addressable LEDs that creates a moving rainbow over the whole LED strip using
the HSV color wheel.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">light</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">fastled_</span><span class="o">...</span>
    <span class="c1"># ...</span>
    <span class="n">effects</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">fastled_rainbow</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">fastled_rainbow</span><span class="p">:</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">Rainbow</span> <span class="n">Effect</span> <span class="n">With</span> <span class="n">Custom</span> <span class="n">Values</span>
          <span class="n">speed</span><span class="p">:</span> <span class="mi">10</span>
          <span class="n">width</span><span class="p">:</span> <span class="mi">50</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><strong>name</strong> (<em>Optional</em>, string): The name of the effect. Defaults to <code class="docutils literal notranslate"><span class="pre">Rainbow</span></code>.</li>
<li><strong>speed</strong> (<em>Optional</em>, int): The speed of the effect, unitless. Defaults to <code class="docutils literal notranslate"><span class="pre">10</span></code>.</li>
<li><strong>width</strong> (<em>Optional</em>, int): The “width” of a full-scale rainbow, unitless. Defaults to <code class="docutils literal notranslate"><span class="pre">50</span></code>.</li>
</ul>
</div>
<div class="section" id="fastled-color-wipe-effect">
<h3>FastLED Color Wipe Effect<a class="headerlink" href="#fastled-color-wipe-effect" title="Permalink to this headline">¶</a></h3>
<p>A light effect for individually-addressable LEDs that continuously introduces new colors at the beginning of
the strip and shifts them forward every <code class="docutils literal notranslate"><span class="pre">add_led_interval</span></code>.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">light</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">fastled_</span><span class="o">...</span>
    <span class="c1"># ...</span>
    <span class="n">effects</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">fastled_color_wipe</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">fastled_color_wipe</span><span class="p">:</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">Color</span> <span class="n">Wipe</span> <span class="n">Effect</span> <span class="n">With</span> <span class="n">Custom</span> <span class="n">Values</span>
          <span class="n">colors</span><span class="p">:</span>
            <span class="o">-</span> <span class="n">red</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span>
              <span class="n">green</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span>
              <span class="n">blue</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span>
              <span class="n">num_leds</span><span class="p">:</span> <span class="mi">1</span>
            <span class="o">-</span> <span class="n">red</span><span class="p">:</span> <span class="mi">0</span><span class="o">%</span>
              <span class="n">green</span><span class="p">:</span> <span class="mi">0</span><span class="o">%</span>
              <span class="n">blue</span><span class="p">:</span> <span class="mi">0</span><span class="o">%</span>
              <span class="n">num_leds</span><span class="p">:</span> <span class="mi">1</span>
          <span class="n">add_led_interval</span><span class="p">:</span> <span class="mi">100</span><span class="n">ms</span>
          <span class="n">reverse</span><span class="p">:</span> <span class="kc">False</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><strong>name</strong> (<em>Optional</em>, string): The name of the effect. Defaults to <code class="docutils literal notranslate"><span class="pre">Color</span> <span class="pre">Wipe</span></code>.</li>
<li><strong>colors</strong> (<em>Optional</em>, list): The colors to shift in at the beginning of the strip. Defaults to shifting in random
colors.<ul>
<li><strong>red</strong> (<em>Optional</em>, percentage): The percentage the red color channel should be on. Defaults to <code class="docutils literal notranslate"><span class="pre">100%</span></code>.</li>
<li><strong>green</strong> (<em>Optional</em>, percentage): The percentage the green color channel should be on. Defaults to <code class="docutils literal notranslate"><span class="pre">100%</span></code>.</li>
<li><strong>blue</strong> (<em>Optional</em>, percentage): The percentage the blue color channel should be on. Defaults to <code class="docutils literal notranslate"><span class="pre">100%</span></code>.</li>
<li><strong>random</strong> (<em>Optional</em>, boolean): If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, will overwrite the RGB colors by a new, randomly-chosen
color each time. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</li>
<li><strong>num_leds</strong> (<em>Optional</em>, int): The number of leds of this type to have before moving on to the next color.</li>
</ul>
</li>
<li><strong>add_led_interval</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The interval with which to shift in new leds at the
beginning of the strip. Defaults to <code class="docutils literal notranslate"><span class="pre">100ms</span></code>.</li>
<li><strong>reverse</strong> (<em>Optional</em>, boolean): Whether to reverse the direction of the color wipe. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</li>
</ul>
</div>
<div class="section" id="fastled-scan-effect">
<h3>FastLED Scan Effect<a class="headerlink" href="#fastled-scan-effect" title="Permalink to this headline">¶</a></h3>
<p>Create a single, fast-moving dot moving back and forth an individually-addressable LED strip. The color is chosen by the
currently active light color.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">light</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">fastled_</span><span class="o">...</span>
    <span class="c1"># ...</span>
    <span class="n">effects</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">fastled_scan</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">fastled_scan</span><span class="p">:</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">Scan</span> <span class="n">Effect</span> <span class="n">With</span> <span class="n">Custom</span> <span class="n">Values</span>
          <span class="n">move_interval</span><span class="p">:</span> <span class="mi">100</span><span class="n">ms</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><strong>name</strong> (<em>Optional</em>, string): The name of the effect. Defaults to <code class="docutils literal notranslate"><span class="pre">Scan</span></code>.</li>
<li><strong>move_interval</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The interval with which to move the dot one LED forward.
Defaults to <code class="docutils literal notranslate"><span class="pre">100ms</span></code>.</li>
</ul>
</div>
<div class="section" id="fastled-twinkle-effect">
<h3>FastLED Twinkle Effect<a class="headerlink" href="#fastled-twinkle-effect" title="Permalink to this headline">¶</a></h3>
<p>A light effect for individually-addressable LED strips that randomly chooses some LEDs and let’s them bright
up for a moment, like a stars twinkling in the night’s sky. The color of the pixels will be chosen by the
currently active light color.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">light</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">fastled_</span><span class="o">...</span>
    <span class="c1"># ...</span>
    <span class="n">effects</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">fastled_twinkle</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">fastled_twinkle</span><span class="p">:</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">Twinkle</span> <span class="n">Effect</span> <span class="n">With</span> <span class="n">Custom</span> <span class="n">Values</span>
          <span class="n">twinkle_probability</span><span class="p">:</span> <span class="mi">5</span><span class="o">%</span>
          <span class="n">progress_interval</span><span class="p">:</span> <span class="mi">4</span><span class="n">ms</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><strong>name</strong> (<em>Optional</em>, string): The name of the effect. Defaults to <code class="docutils literal notranslate"><span class="pre">Twinkle</span></code>.</li>
<li><strong>twinkle_probability</strong> (<em>Optional</em>, percentage): The percentage with which, at any time step, a randomly-chosen
LED should start its twinkle animation.</li>
<li><strong>progress_interval</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The interval with which to progress the effect. This
affects the duration of a twinkle animation. Defaults to <code class="docutils literal notranslate"><span class="pre">4ms</span></code>.</li>
</ul>
</div>
<div class="section" id="fastled-random-twinkle-effect">
<h3>FastLED Random Twinkle Effect<a class="headerlink" href="#fastled-random-twinkle-effect" title="Permalink to this headline">¶</a></h3>
<p>A light effect similar to <code class="docutils literal notranslate"><span class="pre">fastled_twinkle</span></code>, but using random colors for each twinkle animation.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">light</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">fastled_</span><span class="o">...</span>
    <span class="c1"># ...</span>
    <span class="n">effects</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">fastled_random_twinkle</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">fastled_random_twinkle</span><span class="p">:</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">Random</span> <span class="n">Twinkle</span> <span class="n">Effect</span> <span class="n">With</span> <span class="n">Custom</span> <span class="n">Values</span>
          <span class="n">twinkle_probability</span><span class="p">:</span> <span class="mi">5</span><span class="o">%</span>
          <span class="n">progress_interval</span><span class="p">:</span> <span class="mi">32</span><span class="n">ms</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><strong>name</strong> (<em>Optional</em>, string): The name of the effect. Defaults to <code class="docutils literal notranslate"><span class="pre">Random</span> <span class="pre">Twinkle</span></code>.</li>
<li><strong>twinkle_probability</strong> (<em>Optional</em>, percentage): The percentage with which, at any time step, a randomly-chosen
LED should start its twinkle animation.</li>
<li><strong>progress_interval</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The interval with which to progress the effect. This
affects the duration of a twinkle animation. Defaults to <code class="docutils literal notranslate"><span class="pre">4ms</span></code>.</li>
</ul>
</div>
<div class="section" id="fastled-fireworks-effect">
<h3>FastLED Fireworks Effect<a class="headerlink" href="#fastled-fireworks-effect" title="Permalink to this headline">¶</a></h3>
<p>A light effect for individually-addressable LED strips that randomly sparks some fireworks at random positions
and lets the sparkles cascade over the LED strip.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">light</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">fastled_</span><span class="o">...</span>
    <span class="c1"># ...</span>
    <span class="n">effects</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">fastled_fireworks</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">fastled_fireworks</span><span class="p">:</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">Fireworks</span> <span class="n">Effect</span> <span class="n">With</span> <span class="n">Custom</span> <span class="n">Values</span>
          <span class="n">update_interval</span><span class="p">:</span> <span class="mi">32</span><span class="n">ms</span>
          <span class="n">spark_probability</span><span class="p">:</span> <span class="mi">10</span><span class="o">%</span>
          <span class="n">use_random_color</span><span class="p">:</span> <span class="n">false</span>
          <span class="n">fade_out_rate</span><span class="p">:</span> <span class="mi">120</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><strong>name</strong> (<em>Optional</em>, string): The name of the effect. Defaults to <code class="docutils literal notranslate"><span class="pre">Fireworks</span></code>.</li>
<li><strong>update_interval</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The interval with which to progress the effect.
Defaults to <code class="docutils literal notranslate"><span class="pre">32ms</span></code>.</li>
<li><strong>spark_probability</strong> (<em>Optional</em>, percentage): The probability to start a new firework spark at a randomly-chosen
LED at any given time step. Defaults to <code class="docutils literal notranslate"><span class="pre">10%</span></code>.</li>
<li><strong>use_random_color</strong> (<em>Optional</em>, boolean): Whether to use random colors for new firework sparks. Defaults to
using the currently active light color.</li>
<li><strong>fade_out_rate</strong> (<em>Optional</em>, integer): The rate with which to fade out the LED strip, unitless. Needs to be carefully
chosen so that the whole strip doesn’t light up forever if the fade out rate is too low or that the firework
sparks do not propagate for a long time. Defaults to <code class="docutils literal notranslate"><span class="pre">120</span></code>.</li>
</ul>
</div>
<div class="section" id="fastled-flicker-effect">
<h3>FastLED Flicker Effect<a class="headerlink" href="#fastled-flicker-effect" title="Permalink to this headline">¶</a></h3>
<p>An effect similar to the <code class="docutils literal notranslate"><span class="pre">flicker</span></code> effect, but for individually-addressable LED strips. This effect flickers
each LED by its own random amount around the currently active light color.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">light</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">fastled_</span><span class="o">...</span>
    <span class="c1"># ...</span>
    <span class="n">effects</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">fastled_flicker</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">fastled_flicker</span><span class="p">:</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">Flicker</span> <span class="n">Effect</span> <span class="n">With</span> <span class="n">Custom</span> <span class="n">Values</span>
          <span class="n">update_interval</span><span class="p">:</span> <span class="mi">16</span><span class="n">ms</span>
          <span class="n">intensity</span><span class="p">:</span> <span class="mi">5</span><span class="o">%</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><strong>name</strong> (<em>Optional</em>, string): The name of the effect. Defaults to <code class="docutils literal notranslate"><span class="pre">FastLED</span> <span class="pre">Flicker</span></code>.</li>
<li><strong>update_interval</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The time interval for updating the random offsets.
Defaults to <code class="docutils literal notranslate"><span class="pre">16ms</span></code>.</li>
<li><strong>intensity</strong> (<em>Optional</em>, percentage): The intensity of the effect, basically how much the random values can offset
the currently active light color. Defaults to <code class="docutils literal notranslate"><span class="pre">5%</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../../../api/light/index.html"><span class="doc">API Reference</span></a></li>
<li><a class="reference external" href="https://github.com/kitesurfer1404/WS2812FX">WS2812FX library</a> by <a class="reference external" href="https://github.com/kitesurfer1404">&#64;kitesurfer1404</a></li>
<li><a class="reference external" href="https://github.com/OttoWinter/esphomedocs/blob/current/esphomeyaml/components/light/index.rst">Edit this page on GitHub</a></li>
</ul>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="binary.html">Binary Light</a></li>
<li class="toctree-l1"><a class="reference internal" href="cwww.html">Cold White + Warm White Light</a></li>
<li class="toctree-l1"><a class="reference internal" href="monochromatic.html">Monochromatic Light</a></li>
<li class="toctree-l1"><a class="reference internal" href="rgb.html">RGB Light</a></li>
<li class="toctree-l1"><a class="reference internal" href="rgbw.html">RGBW Light</a></li>
<li class="toctree-l1"><a class="reference internal" href="rgbww.html">RGBWW Light</a></li>
<li class="toctree-l1"><a class="reference internal" href="fastled_clockless.html">FastLED Clockless Light</a></li>
<li class="toctree-l1"><a class="reference internal" href="fastled_spi.html">FastLED SPI Light</a></li>
</ul>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2018, Otto Winter.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
    </div>

    

    
  </body>
</html>