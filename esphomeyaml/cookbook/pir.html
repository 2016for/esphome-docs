
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="description" content="Instructions for setting up PIR (passive infrared) motion detection sensors in esphomelib">
<meta name="keywords" content="PIR">
<meta itemprop="name" content="Passive Infrared Sensor">
<meta itemprop="description" content="Instructions for setting up PIR (passive infrared) motion detection sensors in esphomelib">
<meta itemprop="image" content="https://esphomelib.com/_images/pir.jpg">
<meta name="twitter:title" content="Passive Infrared Sensor">
<meta name="twitter:image:src" content="https://esphomelib.com/_images/pir.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Instructions for setting up PIR (passive infrared) motion detection sensors in esphomelib">
<meta property="og:title" content="Passive Infrared Sensor"/>
<meta property="og:image" content="https://esphomelib.com/_images/pir.jpg"/>
<meta property="og:type" content="website"/>
<meta property="og:site_name" content="esphomelib"/>
<meta property="og:description" content="Instructions for setting up PIR (passive infrared) motion detection sensors in esphomelib"/>
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="theme-color" content="#DFDFDF">

    <title>Passive Infrared Sensor &#8212; esphomelib 1.9.0 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/disqus.js"></script>
    <link rel="canonical" href="https://esphomelib.com/esphomeyaml/cookbook/pir.html" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Non-Invasive Power Meter" href="power_meter.html" />
    <link rel="prev" title="Simple Garage Door" href="garage-door.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
    <link rel="apple-touch-icon" href="../../_static/apple-touch-icon.png" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo-full.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Passive Infrared Sensor</a><ul>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="passive-infrared-sensor">
<h1>Passive Infrared Sensor<a class="headerlink" href="#passive-infrared-sensor" title="Permalink to this headline">¶</a></h1>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/pir-header.jpg"><img alt="../../_images/pir-header.jpg" src="../../_images/pir-header.jpg" style="width: 75.0%;" /></a>
</div>
<p>Passive Infrared Sensors (or PIR sensors for short) are completely supported by
esphomelib. These sensors measure the infrared light emitted from objects in its
field of view, and if it detects a sudden change between different parts of the
sensing area, the signal is pulled high.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/pir-inside.jpg"><img alt="../../_images/pir-inside.jpg" src="../../_images/pir-inside.jpg" style="width: 60.0%;" /></a>
</div>
<p>Connecting the PIR sensor is also quite simple. You need to connect <code class="docutils literal notranslate"><span class="pre">GND</span></code> to a GND pin
on your board and <code class="docutils literal notranslate"><span class="pre">VCC</span></code> to a <code class="docutils literal notranslate"><span class="pre">5V</span></code> or <code class="docutils literal notranslate"><span class="pre">12V</span></code> pin. Technically you can also connect
<code class="docutils literal notranslate"><span class="pre">VCC</span></code> to <code class="docutils literal notranslate"><span class="pre">3.3V</span></code>, but the sensor measurements won’t be as stable.</p>
<p>Next you need to connect the signal pin (<code class="docutils literal notranslate"><span class="pre">OUT</span></code>). Fortunately, the sensor signal has
a voltage of <code class="docutils literal notranslate"><span class="pre">3.3V</span></code> max, so we can directly connect it to a free GPIO pin on the ESP board.
Otherwise, we would need to step down the voltage in order to not damage the ESP.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/pir-pins.jpg"><img alt="../../_images/pir-pins.jpg" src="../../_images/pir-pins.jpg" style="width: 75.0%;" /></a>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Some PIR sensors have the GND and power supply pins swapped, please open the front
cover to see which pin mapping your PIR sensor is using to make sure.</p>
</div>
<p>On the back side you will additionally find two knobs that you can turn to change the sensor
sensitivity and time the signal will stay active for once motion has been detected. Turning
these clockwise will increase sensitivity/re-trigger time.</p>
<p>To configure esphomeyaml for use with the PIR sensor, use a
<a class="reference internal" href="../components/binary_sensor/gpio.html"><span class="doc">GPIO Binary Sensor</span></a>. It can detect
if a pin is pulled HIGH/LOW and reports those values to Home Assistant. Optionally also
set a <code class="docutils literal notranslate"><span class="pre">device_class</span></code> so that Home Assistant uses a nice icon for the binary sensor.</p>
<div class="code yaml highlight-default notranslate"><div class="highlight"><pre><span class="n">binary_sensor</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">platform</span><span class="p">:</span> <span class="n">gpio</span>
    <span class="n">pin</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">PIN_PIR_SENSOR_IS_CONNECTED_TO</span><span class="o">&gt;</span>
    <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;PIR Sensor&quot;</span>
    <span class="n">device_class</span><span class="p">:</span> <span class="n">motion</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/pir-ui.png"><img alt="../../_images/pir-ui.png" src="../../_images/pir-ui.png" style="width: 60.0%;" /></a>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://learn.adafruit.com/pir-passive-infrared-proximity-motion-sensor/how-pirs-work">Awesome article explaining how PIR Sensors work</a>.</li>
<li><a class="reference internal" href="../components/binary_sensor/gpio.html"><span class="doc">GPIO Binary Sensor</span></a></li>
<li><a class="reference internal" href="bruh.html"><span class="doc">BRUH Multisensor</span></a></li>
<li><a class="reference external" href="https://github.com/OttoWinter/esphomedocs/blob/current/esphomeyaml/cookbook/pir.rst">Edit this page on GitHub</a></li>
</ul>
<div data-disqus-identifier="esphomeyaml-cookbook-pir" id="disqus_thread"></div></div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2018, Otto Winter.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
    </div>

    

    
  </body>
</html>