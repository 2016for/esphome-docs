
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="description" content="Frequently asked questions in esphomelib.">
<meta itemprop="name" content="Frequently Asked Questions">
<meta itemprop="description" content="Frequently asked questions in esphomelib.">
<meta itemprop="image" content="https://esphomelib.com/_images/question_answer.png">
<meta name="twitter:title" content="Frequently Asked Questions">
<meta name="twitter:image:src" content="https://esphomelib.com/_images/question_answer.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Frequently asked questions in esphomelib.">
<meta property="og:title" content="Frequently Asked Questions"/>
<meta property="og:image" content="https://esphomelib.com/_images/question_answer.png"/>
<meta property="og:type" content="website"/>
<meta property="og:site_name" content="esphomelib"/>
<meta property="og:description" content="Frequently asked questions in esphomelib."/>
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="theme-color" content="#DFDFDF">

    <title>Frequently Asked Questions &#8212; esphomelib 1.9.0 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/disqus.js"></script>
    <link rel="canonical" href="https://esphomelib.com/esphomeyaml/guides/faq.html" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Getting Started with esphomeyaml" href="getting_started_command_line.html" />
    <link rel="prev" title="Contributing" href="contributing.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
    <link rel="apple-touch-icon" href="../../_static/apple-touch-icon.png" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo-full.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Frequently Asked Questions</a><ul>
<li><a class="reference internal" href="#tips-for-using-esphomeyaml">Tips for using esphomeyaml</a></li>
<li><a class="reference internal" href="#i-can-t-get-flashing-over-usb-to-work">I can’t get flashing over USB to work.</a></li>
<li><a class="reference internal" href="#what-s-the-difference-between-esphomelib-and-esphomeyaml">What’s the difference between esphomelib and esphomeyaml?</a></li>
<li><a class="reference internal" href="#help-something-s-not-working-1">Help! Something’s not working!1!</a></li>
<li><a class="reference internal" href="#how-to-submit-an-issue-report">How to submit an issue report</a></li>
<li><a class="reference internal" href="#how-do-i-update-to-the-latest-version">How do I update to the latest version?</a></li>
<li><a class="reference internal" href="#how-do-i-update-to-the-latest-beta-release">How do I update to the latest beta release?</a></li>
<li><a class="reference internal" href="#how-do-i-use-the-latest-bleeding-edge-version">How do I use the latest bleeding edge version?</a></li>
<li><a class="reference internal" href="#does-esphomelib-support-this-device-feature">Does esphomelib support [this device/feature]?</a></li>
<li><a class="reference internal" href="#i-have-a-question-how-can-i-contact-you">I have a question… How can I contact you?</a></li>
<li><a class="reference internal" href="#my-node-keeps-reconnecting-randomly">My node keeps reconnecting randomly</a></li>
<li><a class="reference internal" href="#devices-that-will-hopefully-be-supported-soon">Devices that will (hopefully) be supported soon:</a></li>
<li><a class="reference internal" href="#i-can-t-update-using-ota-because-of-to-little-space-now-what">I can’t update using OTA because of to little space, now what?</a></li>
<li><a class="reference internal" href="#donations">Donations</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="frequently-asked-questions">
<h1>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="tips-for-using-esphomeyaml">
<h2>Tips for using esphomeyaml<a class="headerlink" href="#tips-for-using-esphomeyaml" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">esphomeyaml supports (most of) Home Assistant’s YAML configuration directives like
<code class="docutils literal notranslate"><span class="pre">!include</span></code>, <code class="docutils literal notranslate"><span class="pre">!secret</span></code>. So you can store all your secret WiFi passwords and so on
in a file called <code class="docutils literal notranslate"><span class="pre">secrets.yaml</span></code> within the directory where the configuration file is.</p>
</li>
<li><p class="first">If you want to see how esphomeyaml interprets your configuration, run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre>esphomeyaml livingroom.yaml config
</pre></div>
</div>
</li>
<li><p class="first">To view the logs from your node without uploading, run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre>esphomeyaml livingroom.yaml logs
</pre></div>
</div>
</li>
<li><p class="first">If you have changed the name of the node and want to update over-the-air, just specify
<code class="docutils literal notranslate"><span class="pre">--upload-port</span></code> when running esphomeyaml. For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre>esphomeyaml livingroom.yaml run --upload-port 192.168.178.52
</pre></div>
</div>
</li>
<li><p class="first">You can always find the source esphomeyaml generates under <code class="docutils literal notranslate"><span class="pre">&lt;NODE_NAME&gt;/src/main.cpp</span></code>. It’s even
possible to edit anything outside of the <code class="docutils literal notranslate"><span class="pre">AUTO</span> <span class="pre">GENERATED</span> <span class="pre">CODE</span> <span class="pre">BEGIN/END</span></code> lines for creating
<a class="reference internal" href="../components/sensor/custom.html"><span class="doc">custom sensors</span></a>.</p>
</li>
<li><p class="first">You can view the full command line interface options here: <a class="reference internal" href="cli.html"><span class="doc">Command Line Interface</span></a></p>
</li>
</ol>
</div>
<div class="section" id="i-can-t-get-flashing-over-usb-to-work">
<span id="esphomeflasher"></span><h2>I can’t get flashing over USB to work.<a class="headerlink" href="#i-can-t-get-flashing-over-usb-to-work" title="Permalink to this headline">¶</a></h2>
<p>esphomeyaml depends on the operating system the tool is running on to recognize
the ESP. This can sometimes fail (driver missing, inside docker container, …).
Starting with esphomelib 1.9.0, the esphomelib suite provides
<a class="reference external" href="https://github.com/OttoWinter/esphomeflasher">esphomeflasher</a>, a tool to flash ESPs over USB.</p>
<p>First, you need to get the firmware file to flash. For HassIO add-on based installs you can
use the <code class="docutils literal notranslate"><span class="pre">COMPILE</span></code> button and then press <code class="docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Binary</span></code>. For command line based installs you
can access the file under <code class="docutils literal notranslate"><span class="pre">&lt;CONFIG_DIR&gt;/&lt;NODE_NAME&gt;/.pioenvs/&lt;NODE_NAME&gt;/firmware.bin</span></code>.</p>
<p>Then, install esphomeflasher by going to the <a class="reference external" href="https://github.com/OttoWinter/esphomeflasher/releases">releases page</a>
and downloading one of the pre-compiled binaries. Open up the application and select the serial port
you want to flash to (on windows you can use the “device manager” to check if it’s the right one).</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/esphomeflasher-ui.png"><img alt="../../_images/esphomeflasher-ui.png" src="../../_images/esphomeflasher-ui.png" style="width: 80%;" /></a>
</div>
<p>Select the firmware binary and finally press “Flash ESP”.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If the serial port is not showing up, you might not have the required drivers installed.
ESPs usually ship with one of these two UART chips:</p>
<blockquote class="last">
<div><ul class="simple">
<li>CP2102 (square chip): <a class="reference external" href="https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers">driver</a></li>
<li>CH341: <a class="reference external" href="https://github.com/nodemcu/nodemcu-devkit/tree/master/Drivers">driver</a></li>
</ul>
</div></blockquote>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you’re just seeing <code class="docutils literal notranslate"><span class="pre">Connecting....____....</span></code> on the screen and the flashing fails, that’s
usually a sign that the ESP is defect or cannot be programmed. Please double check the UART wires
are connected correctly if flashing using a USB to UART bridge.</p>
</div>
</div>
<div class="section" id="what-s-the-difference-between-esphomelib-and-esphomeyaml">
<h2>What’s the difference between esphomelib and esphomeyaml?<a class="headerlink" href="#what-s-the-difference-between-esphomelib-and-esphomeyaml" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/OttoWinter/esphomelib">esphomelib</a> is a C++ framework
around Arduino for creating custom firmwares for ESP8266/ESP32 devices. So with
esphomelib, you need to write C++ code.</p>
<p><a class="reference external" href="https://github.com/OttoWinter/esphomeyaml">esphomeyaml</a> is a tool, written in python,
that creates source code that uses the esphomelib framework. It does this by parsing in
a YAML file and generating a C++ source file, compiling it and uploading the binary to the
device. It is meant to be a powerful yet user-friendly engine for creating custom
firmwares for ESP8266/ESP32 devices. Ideally, it should enable users to use a single command
to do everything they want to do with their device without messing around with build systems and so on.</p>
<p>The nice part of the esphomelib/esphomeyaml combo is that you can easily edit the source code
esphomeyaml generates and insert your own custom components such as sensors in it. So, if for example
a sensor you really want to use, is not supported, you can easily <a class="reference external" href="https://github.com/OttoWinter/esphomelib/wiki/Custom-Sensor-Component">create a custom component</a> for it.</p>
</div>
<div class="section" id="help-something-s-not-working-1">
<h2>Help! Something’s not working!1!<a class="headerlink" href="#help-something-s-not-working-1" title="Permalink to this headline">¶</a></h2>
<p>That’s no good. Here are some steps that resolve some problems:</p>
<ul class="simple">
<li><strong>If you’re having WiFi problems</strong>: See <a class="reference internal" href="#wifi-problems"><span class="std std-ref">My node keeps reconnecting randomly</span></a>.</li>
<li><strong>Try with the latest Arduino framework version</strong>: See <a class="reference internal" href="../components/esphomeyaml.html#esphomeyaml-arduino-version"><span class="std std-ref">this</span></a>.</li>
<li><strong>Still an error?</strong> Please file a bug report over in the <a class="reference external" href="https://github.com/OttoWinter/esphomelib/issues">esphomelib issue tracker</a>.
I will take a look at it as soon as I can. Thanks!</li>
</ul>
</div>
<div class="section" id="how-to-submit-an-issue-report">
<span id="faq-bug-report"></span><h2>How to submit an issue report<a class="headerlink" href="#how-to-submit-an-issue-report" title="Permalink to this headline">¶</a></h2>
<p>First of all, thank you very much to everybody submitting issue reports! While I try to test esphomelib/yaml as much as
I can using my own hardware, I don’t own every single device type and mostly only do tests with my own home automation
system. When doing some changes in the core, it can quickly happen that something somewhere breaks. Issue reports are a
great way for me to track and (hopefully) fix issues, so thank you!</p>
<p>For me to fix the issue the quickest, there are some things that would be really helpful:</p>
<ol class="arabic simple">
<li><strong>Just writing “X doesn’t work” or “X gives bug” is not helpful!!!</strong> Seriously, how do you expect
me to help given just that information?</li>
<li>A snippet of the code/configuration file used is always great for me to reproduce this issue.
Please read <a class="reference external" href="https://stackoverflow.com/help/mcve">How to create a Minimal, Complete, and Verifiable example</a>.</li>
<li>If it’s an i2c or hardware communication issue please also try setting the
<a class="reference internal" href="../components/logger.html#logger-log-levels"><span class="std std-ref">log level</span></a> to <code class="docutils literal notranslate"><span class="pre">VERY_VERBOSE</span></code> as it provides helpful information
about what is going on.</li>
<li>Please also include what you’ve already tried and didn’t work so that these things can
be</li>
</ol>
<p>You can find the issue tracker here <a class="reference external" href="https://github.com/OttoWinter/esphomelib/issues">https://github.com/OttoWinter/esphomelib/issues</a></p>
</div>
<div class="section" id="how-do-i-update-to-the-latest-version">
<h2>How do I update to the latest version?<a class="headerlink" href="#how-do-i-update-to-the-latest-version" title="Permalink to this headline">¶</a></h2>
<p>It’s simple. Run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre>pip2 install -U esphomeyaml
<span class="c1"># From docker:</span>
docker pull ottowinter/esphomeyaml:latest
</pre></div>
</div>
<p>And in HassIO, there’s a simple UPDATE button when there’s an update available as with all add-ons</p>
</div>
<div class="section" id="how-do-i-update-to-the-latest-beta-release">
<span id="faq-beta"></span><h2>How do I update to the latest beta release?<a class="headerlink" href="#how-do-i-update-to-the-latest-beta-release" title="Permalink to this headline">¶</a></h2>
<p>esphomelib has a beta release cycle so that new releases can easily be tested before
the changes are deployed to the stable channel. You can help test esphomeyaml (and use new features)
by installing the esphomeyaml beta:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span class="c1"># For pip-based installs</span>
pip2 install --pre -U esphomeyaml

<span class="c1"># From docker-based installs</span>
docker pull ottowinter/esphomeyaml:rc
<span class="c1"># In each command:</span>
docker run <span class="o">[</span>...<span class="o">]</span> -it ottowinter/esphomeyaml:rc livingroom.yaml run
</pre></div>
</div>
<p>And for HassIO, you will see a “esphomeyaml Beta” Add-On for the beta channel.</p>
<p>The beta docs can be viewed at <a class="reference external" href="https://beta.esphomelib.com">https://beta.esphomelib.com</a></p>
</div>
<div class="section" id="how-do-i-use-the-latest-bleeding-edge-version">
<h2>How do I use the latest bleeding edge version?<a class="headerlink" href="#how-do-i-use-the-latest-bleeding-edge-version" title="Permalink to this headline">¶</a></h2>
<p>First, a fair warning that the latest bleeding edge version is not always stable and might have issues.
If you find some, please do however report them if you have time :)</p>
<p>Installing the latest bleeding edge version of esphomelib is also quite easy. It’s most often required
if there was a bug somewhere and I didn’t feel like building &amp; pushing a whole new release out (this often
takes up to 2 hours!). To install the dev version of esphomeyaml:</p>
<ul class="simple">
<li>In HassIO: In the esphomeyaml add-on repository there’s also a second add-on called <code class="docutils literal notranslate"><span class="pre">esphomeyaml-edge</span></code>.
Install that and stop the stable version (both can’t run at the same time without port collisions).</li>
<li>From <code class="docutils literal notranslate"><span class="pre">pip</span></code>: Run <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">git+git://github.com/OttoWinter/esphomeyaml.git</span></code></li>
<li>From docker: Run <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">pull</span> <span class="pre">ottowinter/esphomeyaml:dev</span></code> and use <code class="docutils literal notranslate"><span class="pre">ottowinter/esphomeyaml:dev</span></code> in all
commands.</li>
</ul>
<p>Next, if you want to use the latest version of the esphomelib C++ framework too:</p>
<div class="code highlight-yaml notranslate"><div class="highlight"><pre><span class="c1"># Sample configuration entry</span>
<span class="l l-Scalar l-Scalar-Plain">esphomeyaml</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">...</span>
  <span class="l l-Scalar l-Scalar-Plain">esphomelib_version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">dev</span>
  <span class="c1"># ...</span>
</pre></div>
</div>
<p>In some cases it’s also a good idea to use the latest Arduino framework version. See
<a class="reference internal" href="../components/esphomeyaml.html#esphomeyaml-arduino-version"><span class="std std-ref">this</span></a>.</p>
</div>
<div class="section" id="does-esphomelib-support-this-device-feature">
<h2>Does esphomelib support [this device/feature]?<a class="headerlink" href="#does-esphomelib-support-this-device-feature" title="Permalink to this headline">¶</a></h2>
<p>If it’s not in <a class="reference internal" href="../index.html"><span class="doc">the docs</span></a>, it’s probably sadly not
supported. However, I’m always trying to add support for new features, so feel free to create a feature
request in the <a class="reference external" href="https://github.com/OttoWinter/esphomelib/issues">esphomelib issue tracker</a>. Thanks!</p>
</div>
<div class="section" id="i-have-a-question-how-can-i-contact-you">
<h2>I have a question… How can I contact you?<a class="headerlink" href="#i-have-a-question-how-can-i-contact-you" title="Permalink to this headline">¶</a></h2>
<p>Sure! I’d be happy to help :) You can contact me here:</p>
<ul class="simple">
<li><a class="reference external" href="https://discord.gg/KhAMKrd">Discord</a></li>
<li><a class="reference external" href="https://community.home-assistant.io/t/esphomelib-library-to-greatly-simplify-home-assistant-integration-with-esp32/402452">Home Assistant Community Forums</a></li>
<li><a class="reference external" href="https://github.com/OttoWinter/esphomelib/issues">esphomelib</a> and
<a class="reference external" href="https://github.com/OttoWinter/esphomeyaml/issues">esphomeyaml</a> issue trackers. Preferably only for issues and
feature requests.</li>
<li>Alternatively, also under my e-mail address contact (at) otto-winter.com</li>
</ul>
</div>
<div class="section" id="my-node-keeps-reconnecting-randomly">
<span id="wifi-problems"></span><h2>My node keeps reconnecting randomly<a class="headerlink" href="#my-node-keeps-reconnecting-randomly" title="Permalink to this headline">¶</a></h2>
<p>Jep, that’s a known issue. However, it seems to be very low-level and I don’t really know
how to solve it. I’m working on possible workarounds for the issue but currently I do
not have a real solution.</p>
<p>Some steps that can help with the issue:</p>
<ul class="simple">
<li>Set the <code class="docutils literal notranslate"><span class="pre">power_save_mode</span></code> to <code class="docutils literal notranslate"><span class="pre">light</span></code> in the <code class="docutils literal notranslate"><span class="pre">wifi:</span></code> config. See <a class="reference internal" href="../components/wifi.html#wifi-power-save-mode"><span class="std std-ref">Power Save Mode</span></a>.</li>
<li>Use the most recent version of th arduino framework. The platformio arduino package
always takes some time to update and the most recent version often includes some awesome
patches. See <a class="reference internal" href="../components/esphomeyaml.html#esphomeyaml-arduino-version"><span class="std std-ref">arduino_version</span></a>.</li>
<li>The issue seems to be happen with cheap boards more frequently. Especially the “cheap” NodeMCU
boards from eBay sometimes have quite bad antennas.</li>
<li>Give your ESP a <a class="reference internal" href="../components/wifi.html#wifi-manual-ip"><span class="std std-ref">static IP</span></a>.</li>
</ul>
</div>
<div class="section" id="devices-that-will-hopefully-be-supported-soon">
<h2>Devices that will (hopefully) be supported soon:<a class="headerlink" href="#devices-that-will-hopefully-be-supported-soon" title="Permalink to this headline">¶</a></h2>
<p>Devices/Sensors that I’ve bought and will be supported at some point (ordered by priority):</p>
<ul class="simple">
<li>GP2Y10 Dust Sensor</li>
<li>APDS-9960 RGB Gesture Sensor</li>
<li>MCP2301 16-Channel I/O Expander</li>
<li>MLX90614 Infrared Thermometer</li>
<li>PCF8591 ADC</li>
<li>OV2640 Camera</li>
<li>L298N H-Bridge Motor Driver</li>
<li>A4988 Stepper Motor Driver</li>
</ul>
<p>Other features that I’m working on:</p>
<ul class="simple">
<li>Multiple WiFi Networks to connect to</li>
<li>Color Temperature for Lights</li>
<li>Cameras (probably through ArduCAM)</li>
</ul>
<p>Anything missing? I’d be happy to chat about more integrations over on the <a class="reference external" href="https://discord.gg/KhAMKrd">discord channel</a> - no guarantees that everything will be supported though!</p>
</div>
<div class="section" id="i-can-t-update-using-ota-because-of-to-little-space-now-what">
<h2>I can’t update using OTA because of to little space, now what?<a class="headerlink" href="#i-can-t-update-using-ota-because-of-to-little-space-now-what" title="Permalink to this headline">¶</a></h2>
<p>If you are using ESP8266/Sonoff devices and you have many components enabled you will probably encounter this error during OTA update:</p>
<div class="code highlight-yaml notranslate"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">ERROR [esphomeyaml.espota] Bad Answer</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ERR</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ERROR[4]</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Not Enough Space</span>
</pre></div>
</div>
<p>This is because of the limited amount of flash memory available on these devices (often just 1M). The size of the firmware data that is created by esphomeyaml depends on the number of components enabled (eg: webserver, sensors, etc). Especially the webserver component is very large.</p>
<p>During an OTA update the new firmware data needs to be stored on the flash chip so it can be used to replace the old firmware. However it is possible the old firmware is taking up to much space so the new firmware won’t fit next to it. This makes a normal OTA update impossible. Forcing you to choose between easy updates or components.</p>
<p>A possible solution is to disable (large) components like webserver so the size of the firmware data stays below a certain size.</p>
<p>If even this doesn’t work or you like to have a lot of components enabled there is a workaround that might help you out so you can have your cake and eat it too. Using a two stage OTA update.</p>
<p>First we temporary ‘remove’ (comment out) all components from the <code class="docutils literal notranslate"><span class="pre">yaml</span></code> file, leaving only: <code class="docutils literal notranslate"><span class="pre">esphomeyaml</span></code>, <code class="docutils literal notranslate"><span class="pre">ota</span></code> and <code class="docutils literal notranslate"><span class="pre">wifi</span></code>, example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">esphomeyaml</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">sonoff_basic</span>
  <span class="l l-Scalar l-Scalar-Plain">platform</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">espressif8266</span>
  <span class="l l-Scalar l-Scalar-Plain">board</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">esp01_1m</span>
  <span class="l l-Scalar l-Scalar-Plain">board_flash_mode</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">dout</span>

<span class="l l-Scalar l-Scalar-Plain">wifi</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">ssid</span><span class="p p-Indicator">:</span> <span class="s">&#39;***&#39;</span>
  <span class="l l-Scalar l-Scalar-Plain">password</span><span class="p p-Indicator">:</span> <span class="s">&#39;***&#39;</span>

<span class="l l-Scalar l-Scalar-Plain">ota</span><span class="p p-Indicator">:</span>

<span class="c1"># mqtt:</span>
<span class="c1">#   broker: &#39;mqtt&#39;</span>
<span class="c1">#   username: &#39;&#39;</span>
<span class="c1">#   password: &#39;&#39;</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1"># logger:</span>
<span class="c1">#</span>
<span class="c1"># switch:</span>
<span class="c1"># ...</span>
</pre></div>
</div>
<p>This will result in really small firmware data which has a high chance of fitting the remaining space on your device. After this OTA update has succeeded you are left with a device with no functionality except OTA. Now you can re-enable all components previously commented out and perform a ‘normal’ OTA update again.</p>
</div>
<div class="section" id="donations">
<h2>Donations<a class="headerlink" href="#donations" title="Permalink to this headline">¶</a></h2>
<p>I invest lots of time into this project, so if you like esphomelib and want to support the project, donations
are very welcome.</p>
<p>Before donating here though, please consider donating to charity (for example the red cross, UNICEF, greenpeace, …).
They can use the money much better than I can. Also, I don’t want donations for feature requests as I cannot
_guarantee_ that I can get a specific feature to work reliably.</p>
<p>Donations are currently only possible via PayPal: <a class="reference external" href="https://www.paypal.me/ottowinter">https://www.paypal.me/ottowinter</a></p>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../index.html"><span class="doc">esphomeyaml index</span></a></li>
<li><a class="reference internal" href="contributing.html"><span class="doc">Contributing</span></a></li>
<li><a class="reference external" href="https://github.com/OttoWinter/esphomedocs/blob/current/esphomeyaml/guides/faq.rst">Edit this page on GitHub</a></li>
</ul>
<div data-disqus-identifier="esphomeyaml-guides-faq" id="disqus_thread"></div></div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      
      
      
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>